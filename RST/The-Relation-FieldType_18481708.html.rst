#. `eZ Publish Platform 5.x <index.html>`__
#. `eZ Publish Platform
   Documentation <eZ-Publish-Platform-Documentation_1114149.html>`__
#. `Reference <Reference_10158191.html>`__
#. `FieldTypes reference <FieldTypes-reference_10158198.html>`__

eZ Publish Platform 5.x : The Relation FieldType
================================================

Created by ricardo.correia@ez.no, last modified by petar.spanja@ez.no on
May 23, 2014

This field type represents a relation to a content.

Name

Internal name

Expected input

``Relation``

``ezobjectrelation``

``mixed``

**Table of contents:**

-  `Description <#TheRelationFieldType-Description>`__
-  `Input expectations <#TheRelationFieldType-Inputexpectations>`__
-  `Value object <#TheRelationFieldType-Valueobject>`__

   -  `Properties <#TheRelationFieldType-Properties>`__
   -  `Constructor <#TheRelationFieldType-Constructor>`__

-  `Validation <#TheRelationFieldType-Validation>`__
-  `Settings <#TheRelationFieldType-Settings>`__

Description
-----------

This FieldType makes possible to store and retrieve the value of
relation to a content.

Input expectations
------------------

Type

Example

``string``

::

    "150"

``integer``

 150

Value object
------------

Properties
~~~~~~~~~~

The Value class of this field type contains the following properties:

Property

Type

Description

``$destinationContentId``

``string|int|null``

This property will be used to store the value provided, which will
represent the related content.

**Value object content example**

.. code:: theme:

    $relation->destinationContentId = $contentInfo->id;

Constructor
~~~~~~~~~~~

The \ ``Relation``\ ``\Value`` constructor will initialize a new Value
object with the value provided. It expects a mixed value

**Constructor example**

.. code:: theme:

    // Instantiates a Relation Value object
    $relationValue = new Relation\Value( $contentInfo->id );

Validation
----------

This FieldType validates the provided relation exists, but before it
does that it will check that the value is either string or int.

Settings
--------

The field definition of this FieldType can be configured with two
options:

Name

Type

Default value

Description

``selectionMethod``

``int``

``self::SELECTION_BROWSE``

This setting defines the selection method. It expects an integer (0/1).
0 stands for ``self::SELECTION_BROWSE``, 1 stands for
``self::SELECTION_DROPDOWN``.

``selectionRoot``

``string``

``null``

This setting defines the selection root.

**Relation FieldType example settings**

.. code:: theme:

    use eZ\Publish\Core\FieldType\Relation\Type;

    $settings = array(
        "selectionMethod" => 1,
        "selectionRoot" => null
    );

Note: These settings are meant for future use in user interface when
allowing users to select relations.

 

Document generated by Confluence on Mar 03, 2015 15:13

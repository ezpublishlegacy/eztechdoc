#. `eZ Publish Platform 5.x <index.html>`__
#. `eZ Publish Platform
   Documentation <eZ-Publish-Platform-Documentation_1114149.html>`__
#. `Reference <Reference_10158191.html>`__
#. `FieldTypes reference <FieldTypes-reference_10158198.html>`__

eZ Publish Platform 5.x : The RelationList FieldType
====================================================

Created by ricardo.correia@ez.no, last modified by petar.spanja@ez.no on
May 23, 2014

This field type represents one or multiple relations to content.

Name

Internal name

Expected input

``RelationList``

``ezobjectrelationlist``

``mixed``

**Table of contents:**

-  `Description <#TheRelationListFieldType-Description>`__
-  `Input expectations <#TheRelationListFieldType-Inputexpectations>`__
-  `Value Object API <#TheRelationListFieldType-ValueObjectAPI>`__

   -  `Properties <#TheRelationListFieldType-Properties>`__
   -  `Constructor <#TheRelationListFieldType-Constructor>`__

-  `Validation <#TheRelationListFieldType-Validation>`__
-  `Settings <#TheRelationListFieldType-Settings>`__

Description
-----------

This FieldType makes possible to store and retrieve values of relation
to content.

Input expectations
------------------

Type

Description

Example

``int|string``

Id of the related Content

``42``

``array``

An array of related Content ids

``array( 24, 42 )``

::

    eZ\Publish\API\Repository\Values\Content\ContentInfo

ContentInfo instance of the related Content

 

``eZ\Publish\Core\FieldType\RelationList\Value``

RelationList FieldType Value Object

See Value Object documentation section below.

Value Object API
----------------

Properties
~~~~~~~~~~

``eZ\Publish\Core\FieldType\RelationList\Value`` contains following
properties.

Property

Type

Description

Example

``destinationContentIds``

``array``

An array of related Content ids

``array( 24, 42 )``

**Value object content example**

.. code:: theme:

    $relationList->destinationContentId = array( 
        $contentInfo1->id,
        $contentInfo2->id,
        170
    );

Constructor
~~~~~~~~~~~

The \ ``RelationList``\ ``\Value`` constructor will initialize a new
Value object with the value provided. It expects a mixed array as value.

**Constructor example**

.. code:: theme:

    // Instantiates a RelationList Value object
    $relationListValue = new RelationList\Value(
        array(
            $contentInfo1->id,
            $contentInfo2->id,
            170     
        )
    );

Validation
----------

This FieldType validates if the ``selectionMethod`` specified is 0
(``self::SELECTION_BROWSE)`` or 1 (``self::SELECTION_DROPDOWN)``. A
validation error is thrown if the value does not match.

Also validates if the ``selectionDefaultLocation`` specified is
``null``, ``string`` or ``integer``. If the type validation fails a
validation error is thrown.

And validates if the value specified in ``selectionContentTypes`` is an
array. If not, a validation error in given.

Settings
--------

The field definition of this FieldType can be configured with following
options:

Name

Type

Default value

Description

``selectionMethod``

``mixed``

::

    SELECTION_BROWSE

Method of selection in the administration interface

``selectionDefaultLocation``

``string|integer``

``null``

Id of the default Location for the selection when using administration
interface

``selectionContentTypes``

``array``

``array()``

An array of ContentType ids that are allowed for related Content

Following selection methods are available:

Name

Description

SELECTION\_BROWSE

Selection will use browse mode

SELECTION\_DROPDOWN

Selection control will use dropdown control containing the Content list
in the default Location for selection

**Example of using settings in PHP**

.. code:: theme:

    use eZ\Publish\Core\FieldType\RelationList\Type;

    $settings = array(
        "selectionMethod" => Type::SELECTION_BROWSE,
        "selectionRoot" => null,
        "selectionContentTypes" => array()
     );

Document generated by Confluence on Mar 03, 2015 15:13

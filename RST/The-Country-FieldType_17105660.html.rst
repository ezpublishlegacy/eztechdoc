#. `eZ Publish Platform 5.x <index.html>`__
#. `eZ Publish Platform
   Documentation <eZ-Publish-Platform-Documentation_1114149.html>`__
#. `Reference <Reference_10158191.html>`__
#. `FieldTypes reference <FieldTypes-reference_10158198.html>`__

eZ Publish Platform 5.x : The Country FieldType
===============================================

Created by ricardo.correia@ez.no, last modified by petar.spanja@ez.no on
May 23, 2014

This field type represents one or multiple countries.

Name

Internal name

Expected input

``Country``

``ezcountry``

``array``

**Table of contents:**

-  `Description <#TheCountryFieldType-Description>`__
-  `Input expectations <#TheCountryFieldType-Inputexpectations>`__
-  `Validation <#TheCountryFieldType-Validation>`__
-  `Settings <#TheCountryFieldType-Settings>`__
-  `To / From Hash format <#TheCountryFieldType-To/FromHashformat>`__
-  `Value object <#TheCountryFieldType-Valueobject>`__

   -  `Properties <#TheCountryFieldType-Properties>`__
   -  `Constructor <#TheCountryFieldType-Constructor>`__

Description
-----------

--------------

This FieldType makes possible to store and retrieve data representing
countries.

Input expectations
------------------

--------------

Type

Example

``array``

.. code:: theme:

    array(
        "JP" => array(
            "Name" => "Japan",
            "Alpha2" => "JP",
            "Alpha3" => "JPN",
            "IDC" => 81
        )
    );

Note: When you set a array directly on Content field you don't need to
provide all this information, the FieldType will assume it is a hash and
in this case it will accept a simplified structure described below in
the *To / From Hash format*.

Validation
----------

--------------

This FieldType validates if the multiple countries are allowed by the
field definition, and if the Alpha2 is valid according to the countries
configured in eZ Publish.

Settings
--------

--------------

The field definition of this FieldType can be configured with one
option:

Name

Type

Default value

Description

``isMultiple``

``boolean``

``false``

This setting allows (if true) or denies (if false) the selection of
multiple countries.

**Country FieldType example settings**

.. code:: theme:

    $settings = array(
        "isMultiple" => true
    );

To / From Hash format
---------------------

--------------

The format used for serialization is simpler then the full format, this
is also available when setting value on the content field, by setting
the value to a array instead of the Value object. Example of that shown
below:

**Value object content example**

.. code:: theme:

    $content->fields["countries"] = array( "JP", "NO" );

The format used by the toHash method is the Alpha2 value, however the
input is cable of accepting either Name, Alpha2 or Alpha3 value as shown
below in the Value object section.

Value object
------------

--------------

Properties
~~~~~~~~~~

The Value class of this field type contains the following properties:

Property

Type

Description

``$countries``

``array[]``

This property will be used for the country selection provided as input,
as its attributes.

**Value object content example**

.. code:: theme:

    $value->countries = array(
        "JP" => array(
            "Name" => "Japan",
            "Alpha2" => "JP",
            "Alpha3" => "JPN",
            "IDC" => 81
        )
    )

Constructor
~~~~~~~~~~~

The ``Country``\ ``\Value`` constructor will initialize a new Value
object with the value provided. It expects an array as input.

**Constructor example**

.. code:: theme:

    // Instantiates a Country Value object
    $countryValue = new Country\Value(
        array(
            "JP" => array(
                "Name" => "Japan",
                "Alpha2" => "JP",
                "Alpha3" => "JPN",
                "IDC" => 81
            )
        )
    );

Document generated by Confluence on Mar 03, 2015 15:13

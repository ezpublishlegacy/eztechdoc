#. `eZ Publish Platform 5.x <index.html>`__
#. `eZ Publish Platform
   Documentation <eZ-Publish-Platform-Documentation_1114149.html>`__
#. `Development & Administration Guides <6291674.html>`__
#. `Features <Features_12781009.html>`__
#. `MVC and Application <MVC-and-Application_2719826.html>`__
#. `Content view <Content-view_8323263.html>`__

eZ Publish Platform 5.x : Display the eZ Website Toolbar
========================================================

Created by sarah.haim-lubczanski@ez.no, last modified by
bertrand.dunogier@ez.no on Nov 27, 2014

EZP Version >= 5.3

Configuring the display of the Website Toolbar
----------------------------------------------

To have the regular Webin Toolbar, first add the proper CSS file to your
head template :
``extension/ezwt/design/standard/stylesheets/websitetoolbar.css``

.. code:: theme:

    <style type="text/css">
        @import url("{{ asset('extension/ezwt/design/standard/stylesheets/websitetoolbar.css') }}");
    </style>

 

Then, in your template, you can add the Webin Toolbar by definining the
display of the ``websiteToolbarAction`` from the
``ezpublish_legacy.website_toolbar.controller`` Controller

.. code:: theme:

    {% if location is defined %}
        {{ render( controller( "ezpublish_legacy.website_toolbar.controller:websiteToolbarAction", { 'locationId': location.id} ) ) }}
    {% endif %}

Redirection after publishing
----------------------------

Versions: 5.3.4, 5.4.1.

In order to get properly redirected after publishing or discarding,
overrides of legacy's \ ``content/edit.tpl`` must include
the \ ``content/edit_redirection.tpl``. It adds hidden fields required
by legacy for those redirections.

.. code:: theme:

    <form method="POST" action="content/edit/...">
      <!--...-->
      {include uri="design:content/edit_redirection.tpl"}
    </form>

About the website\_toolbar controller
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The websiteToolbarAction renders the whole Webin Toolbar, and if the
logged in user doesn't have the required permission, an empty response
is returned

Comments:
---------

+--------------------------------------------------------------------------+
| I'd actually rather refer to it as "Website toolbar" (and maybe mention  |
| later on in the text that it was also known as webin toolbar). We should |
| also explain what it is about, what it does, and doesn't do.             |
|                                                                          |
| Also, we might want to "hard tag" features as legacy when they are,      |
| implying that they won't be here when legacy gets ditched.               |
|                                                                          |
| |image1| Posted by bertrand.dunogier@ez.no at Apr 09, 2014 15:25         |
+--------------------------------------------------------------------------+

Document generated by Confluence on Mar 03, 2015 15:12

.. |image0| image:: images/icons/contenttypes/comment_16.png
.. |image1| image:: images/icons/contenttypes/comment_16.png

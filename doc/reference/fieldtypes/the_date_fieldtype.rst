#. `eZ Publish Platform 5.x <index.html>`__
#. `eZ Publish Platform
   Documentation <eZ-Publish-Platform-Documentation_1114149.html>`__
#. `Reference <Reference_10158191.html>`__
#. `FieldTypes reference <FieldTypes-reference_10158198.html>`__

eZ Publish Platform 5.x : The Date FieldType
============================================

Created and last modified by petar.spanja@ez.no on May 23, 2014

This field type represents a date without time information.

Name

Internal name

Expected input type

``Date``

``ezdate``

``mixed``

**Table of contents:**

-  `Description <#TheDateFieldType-Description>`__
-  `Input expectations <#TheDateFieldType-Inputexpectations>`__
-  `Value object <#TheDateFieldType-Valueobject>`__

   -  `Properties <#TheDateFieldType-Properties>`__
   -  `String representation <#TheDateFieldType-Stringrepresentation>`__
   -  `Constructor <#TheDateFieldType-Constructor>`__
   -  `Hash format <#TheDateFieldType-Hashformat>`__

-  `Validation <#TheDateFieldType-Validation>`__
-  `Settings <#TheDateFieldType-Settings>`__

Description
-----------

--------------

This FieldType makes possible to store and retrieve a date information.

Input expectations
------------------

--------------

If input value is of type **``string``** or **``integer``**, it will be
passed directly to the `PHP's built-in **``\DateTime``** class
constructor <http://www.php.net/manual/en/datetime.construct.php>`__,
therefore the same input format expectations apply.

It is also possible to directly pass an instance of **``\DateTime``**.

Type

Example

``string``

``"2012-08-28 12:20 Europe/Berlin"``

::

    integer

::

    1346149200

::

    \DateTime

::

    new \DateTime()

Icon

Time information is **not stored**.

Before storing, given input value will be set to the the beginning of
the day in the given or the environment timezone.

Value object
------------

--------------

Properties
~~~~~~~~~~

The Value class of this field type contains the following properties:

Property

Type

Description

``$date``

``\DateTime``

This property will be used for the text content.

String representation
~~~~~~~~~~~~~~~~~~~~~

String representation of the date value will generate the date string in
the format "l d F Y" as accepted by \ `PHP's
built-in \ **``date()``** function <http://www.php.net/manual/en/function.date.php>`__.

Example:

    ``Wednesday 22 May 2013``

Constructor
~~~~~~~~~~~

The constructor for this value object will initialize a new Value object
with the value provided. It accepts an instance of \ `PHP's
built-in \ **``\DateTime``** class <http://www.php.net/manual/en/datetime.construct.php>`__.

Hash format
~~~~~~~~~~~

Hash value of this FieldType is an array with two keys:

Key

Type

Description

Example

``timestamp``

``integer``

Time information as
a \ `timestamp <http://en.wikipedia.org/wiki/Unix_time>`__.

``1400856992``

``rfc850``

``string``

Time information as a string in \ `RFC 850 date
format <http://tools.ietf.org/html/rfc850>`__.

As input, this will have higher precedence over
the \ **``timestamp``** value.

``"Friday, 23-May-14 14:56:14 GMT+0000"``

**Example of the hash value in PHP**

.. code:: theme:

    $hash = array(
        "timestamp" => 1400856992,
        "rfc850" => "Friday, 23-May-14 14:56:14 GMT+0000"
    );

Validation
----------

--------------

This FieldType does not perform any special validation of the input
value.

Settings
--------

--------------

The field definition of this FieldType can be configured with one
option:

Name

Type

Default value

Description

::

    defaultType

::

    mixed

::

    Type::DEFAULT_EMPTY

One of the \ **``DEFAULT_*``** constants, used by the administration
interface for setting the default field value.

See below for more details.

Following \ **``defaultType``** default value options are available as
constants in
the \ **``eZ\Publish\Core\FieldType\Date\Type``**\ ** **\ class:

Constant

Description

::

    DEFAULT_EMPTY

Default value will be empty.

::

    DEFAULT_CURRENT_DATE

Default value will use current date.

**Date FieldType example settings**

.. code:: theme:

    use eZ\Publish\Core\FieldType\Date\Type;

    $settings = array(
        "defaultType" => Type::DEFAULT_EMPTY
    );

Document generated by Confluence on Mar 03, 2015 15:13

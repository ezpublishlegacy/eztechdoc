#. `eZ Publish Platform 5.x <index.html>`__
#. `eZ Publish Platform
   Documentation <eZ-Publish-Platform-Documentation_1114149.html>`__
#. `Reference <Reference_10158191.html>`__
#. `FieldTypes reference <FieldTypes-reference_10158198.html>`__

eZ Publish Platform 5.x : The Selection FieldType
=================================================

Created by ricardo.correia@ez.no, last modified by petar.spanja@ez.no on
May 23, 2014

This field type represents a single selection or multiple choices from a
list of options.

Name

Internal name

Expected input type

``Selection``

``ezselection``

``mixed``

**Table of contents:**

-  `Description <#TheSelectionFieldType-Description>`__
-  `Input expectations <#TheSelectionFieldType-Inputexpectations>`__
-  `Value object <#TheSelectionFieldType-Valueobject>`__

   -  `Properties <#TheSelectionFieldType-Properties>`__
   -  `Constructor <#TheSelectionFieldType-Constructor>`__
   -  `String
      representation <#TheSelectionFieldType-Stringrepresentation>`__

-  `Hash format <#TheSelectionFieldType-Hashformat>`__
-  `Validation <#TheSelectionFieldType-Validation>`__
-  `Settings <#TheSelectionFieldType-Settings>`__

Description
-----------

--------------

The Selection FieldType stores single selections or multiple choices
from a list of options, by populating a hash with the list of selected
values.

Input expectations
------------------

--------------

Type

Example

``array``

``array( 1, 2 )``

Value object
------------

--------------

Properties
~~~~~~~~~~

The Value class of this field type contains the following properties:

Property

Type

Description

``$selection``

``int[]``

This property will be used for the list of selections, which will be a
list of integer values, or one single integer value.

**Value object content examples**

.. code:: theme:

    // Single selection
    $value->selection = 1; 
     
    // Multiple selection
    $value->selection = array( 1, 4, 5 ); 

Constructor
~~~~~~~~~~~

The \ ``Selection\Value`` constructor accepts an array of selected
elements identifiers.

**Constructor example**

.. code:: theme:

    // Instanciates a selection value with items #1 and #2 selected
    $selectionValue = new Selection\Value( array( 1, 2 ) );

String representation
~~~~~~~~~~~~~~~~~~~~~

String representation of this FieldType is its list of selections as a
string, concatenated with a comma.

Example:

    ``"1,2,24,42"``

Hash format
-----------

--------------

Hash format of this FieldType is the same as Value object's
**``selection``** property.

**Example of value in hash format**

.. code:: theme:

    $hash = array( 1, 2 );

Validation
----------

--------------

| This ``FieldType`` validates the input, verifying if all selected
options exist in the field definition, and, checks if multiple
selections are allowed in the field definition.
| If any of these validations fail a ``ValidationError``  is thrown,
specifying the error message, and for the case of the option validation
a list with the invalid options is also presented.

Settings
--------

--------------

Name

Type

Default value

Description

``isMultiple``

``boolean``

``false``

Used to allow or deny multiple selection from the option list.

``options``

``hash``

``array()``

Stores the list of options defined in the field definition.

**Selection FieldType example settings**

.. code:: theme:

    use eZ\Publish\Core\FieldType\Selection\Type;
     
    $settings = array(
        "isMultiple" => true,
        "options" => array(1 => 'One', 2 => 'Two', 3 => 'Three')
    );

Document generated by Confluence on Mar 03, 2015 15:13

#. `eZ Publish Platform 5.x <index.html>`__
#. `eZ Publish Platform
   Documentation <eZ-Publish-Platform-Documentation_1114149.html>`__
#. `Developer Cookbook <Developer-Cookbook_11403951.html>`__
#. `eZ Publish 5 Field Type
   Tutorial <eZ-Publish-5-Field-Type-Tutorial_19890704.html>`__

eZ Publish Platform 5.x : Implementing the Tweet\\Value class
=============================================================

Created by bertrand.dunogier@ez.no, last modified by
jerome.vieilledent@ez.no on Mar 12, 2014

The Value class of a FieldType is by design very simple. It is meant to
be stateless, and as lightweight as possible. Therefore, this class must
contain as little logic as possible, as this is the Type class
responsibility.

The Value will at least contain:

-  public properties, used to store the actual data 

-  an implementation of the ``__toString()`` method (required by the
   Value interface we inherit from)

By default, the constructor from FieldType\\Value will be used, and
allows you to pass a hash of property / value pairs. In our example, we
can see that we can override it as well if we want.

The Tweet FieldType is going to store three things:

-  The tweet’s URL

-  The tweet’s author URL

-  The body, as an HTML string 

At this point, we don’t care where those are stored. All we care about
is what we want our FieldType to expose as an API. We end up with the
following properties:

**eZ/FieldType/Tweet/Value.php**

.. code:: theme:

    /**
    * Tweet URL on twitter.com (http://twitter.com/UserName/status/id).
    * @var string
    */
    public $url;

     
    /**
    * Author's tweet URL (http://twitter.com/UserName)
    * @var string
    */
    public $authorUrl;

     
    /**
    * The tweet's embed HTML
    * @var string
    */
    public $contents;

The only thing left to honor the ``FieldType\Value`` interface is the
``__toString()`` method. Let’s say that ours will return the tweet’s
URL:

**eZ/FieldType/Tweet/Value.php**

.. code:: theme:

    public function __toString()
    {
       return $this->url;
    }

Document generated by Confluence on Mar 03, 2015 15:13
